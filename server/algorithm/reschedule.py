from ortools.sat.python import cp_model
import numpy as np
import pandas as pd
import sys

#current_request = sys.argv[1]
current_request = '[{"mentor":"Aaron Schram","Day":"Monday","Block":"PM","Companies":["Umbrella Corporation","Cyberdyne Systems","Wonka Industries","Krusty Krab","Bubba Gump"]}]'
#all_meetings = sys.argv[2]
#all_companies = sys.argv[3]
all_companies ='[{"company_id":"3e5e1d5c-cb46-4e1d-9109-dcf000a329e6","company":"Marvel","email":"marvel@example.com"},{"company_id":"f63f9a90-5d75-49de-a4ab-7efad56d4da5","company":"Umbrella Corporation","email":"umbrella@example.com"},{"company_id":"659099e1-7c13-4f3d-aa4a-920dcbe08897","company":"Cyberdyne Systems","email":"cyberdyne@example.com"},{"company_id":"63db03b4-e16e-450c-9e83-b38344d37f83","company":"Wonka Industries","email":"wonka@example.com"},{"company_id":"3ac9559b-0bbc-436d-ba7d-40cdb6c8df48","company":"Krusty Krab","email":"krusty@example.com"},{"company_id":"b3620bdb-ca2a-49c8-9c8b-d0d0fdd53f5e","company":"Bubba Gump","email":"bubba@example.com"},{"company_id":"50af3498-3ef5-4b7c-86de-ae73ba71cbdf","company":"Virtucon","email":"virtucon@example.com"},{"company_id":"bf33eb3b-fdcd-45e3-b19e-76221cc35813","company":"Buy n Large","email":"buy@example.com"},{"company_id":"cb013081-5ecd-4bb2-a3ae-4e2e6d4fd841","company":"Bluth Company","email":"bluth@example.com"},{"company_id":"2161b159-7e1a-44d7-bcd1-b85b166ac5c3","company":"Gringotts Wizarding Bank","email":"gringotts@example.com"},{"company_id":"26b36855-b885-4b64-bf28-2650677920f3","company":"ACME","email":"acme@example.com"},{"company_id":"56979936-2d38-4678-a2b8-77d4ea329677","company":"Monsters Inc","email":"monsters@example.com"},{"company_id":"11886d2f-c3ff-4b2f-8c45-19e256109c3d","company":"Avengers Inc","email":"avengers@example.com"},{"company_id":"9f7856dd-7414-4aff-8c1a-c92de8d43105","company":"Pied Piper","email":"pied@example.com"},{"company_id":"618bb8cb-fffe-42fc-b81a-25cc108b7416","company":"SHIELD","email":"shield@example.com"},{"company_id":"d7cb73c7-36be-4ffc-8c6c-84c58f5945fd","company":"Acme","email":"acme@example.com"},{"company_id":"d97ecbcf-c243-469c-8b93-36e81b76841e","company":"X Men","email":"xmen@example.com"},{"company_id":"8fe4c0f8-1474-476e-92e9-afa048657d6f","company":"Xavier Corp","email":"xavier@example.com"},{"company_id":"1fdf80b5-42cd-4625-b6cb-6a54c104b054","company":"Wayne Industries","email":"wayne@example.com"},{"company_id":"213b5e41-0661-4394-ab5c-adde45866dc9","company":"Justice League","email":"justice@example.com"},{"company_id":"a06aed64-8c65-4f30-93e3-db274123667b","company":"Umbrella Corp","email":"umbrella@example.com"},{"company_id":"e4937a9c-cad0-41ea-9b7f-c3c998fc378e","company":"Olympus","email":"olympus@example.com"}]'
#all_blocks = sys.argv[4]
all_blocks = '[{"block_id":"7bb22961-0f0d-4dbf-bb68-5fa0f46a2934","block":"AM"},{"block_id":"f4d43f33-a4d7-4b83-9564-d2131b26d415","block":"PM"}]'
#all_days = sys.argv[5]
all_days = '[{"day_id":"a3b287f3-74bb-4b7d-98cf-2c545330f497","day":"Monday"},{"day_id":"bfbf8218-4574-4af7-bbdd-d74e19006bfa","day":"Tuesday"},{"day_id":"0b52faea-11d0-45da-a4a4-8fe361eaecdb","day":"Wednesday"},{"day_id":"2f1f7e9a-162d-498f-a1b3-b88b91ecd4c2","day":"Thursday"},{"day_id":"73ce88eb-4065-422b-a8ee-f09723c82684","day":"Friday"}]'
#all_slots =sys.argv[6]
all_slots = '[{"slot_id":"44c13927-eefa-4f20-84cd-1cf284936960","slot":"08:00:00"},{"slot_id":"0b698f98-6294-4c4a-9557-13ded144cba1","slot":"08:20:00"},{"slot_id":"b0a1ac88-bcee-4342-b852-053f78742a33","slot":"08:40:00"},{"slot_id":"7f4aa95e-2ab5-4fe9-9cbe-b072c0090b88","slot":"09:00:00"},{"slot_id":"0c7c9f65-6aad-40bf-8161-d1811f834846","slot":"09:20:00"},{"slot_id":"f9121f24-eb31-4abe-a4c9-099fe09dff53","slot":"09:40:00"},{"slot_id":"1b52f4df-cce9-4295-8fa0-6b69a315db20","slot":"10:00:00"},{"slot_id":"3c7c68fc-e26b-47b6-bbbd-afcaffe5c484","slot":"10:20:00"},{"slot_id":"0804b6ee-f464-4b82-ae2b-334d1209794c","slot":"10:40:00"},{"slot_id":"8b3b89f6-e45d-4839-a566-33370e54cede","slot":"11:00:00"},{"slot_id":"f206bf3c-f3d5-401e-8690-eb93837ad856","slot":"11:20:00"},{"slot_id":"3deff225-0ea9-4735-b539-c22a30994cce","slot":"11:40:00"},{"slot_id":"c644a7a9-792a-4ff1-a74a-6e7d0c6f91d2","slot":"13:10:00"},{"slot_id":"eaabf3cb-ba82-494c-a05f-e1c2f0703599","slot":"13:30:00"},{"slot_id":"05714321-a926-4bff-9207-91b10fcea68f","slot":"13:50:00"},{"slot_id":"ff6d9d20-2436-4ffd-92a9-a9a951893f43","slot":"14:10:00"},{"slot_id":"c2f296e0-4990-413c-99bc-08e34a2af2f9","slot":"14:30:00"},{"slot_id":"202ad20c-08a9-413e-8b18-c70ea2b15efc","slot":"14:50:00"},{"slot_id":"1c3d2fbb-1508-4949-b8e5-1346df88e5fd","slot":"15:10:00"},{"slot_id":"62b87e6e-c186-48d7-9438-0e7f3d80d11d","slot":"15:30:00"},{"slot_id":"7b858756-36d0-4ae1-a486-b7dc3cc5ac49","slot":"15:50:00"},{"slot_id":"540a0ee3-bebf-473e-9a37-0695fdeffe57","slot":"16:10:00"},{"slot_id":"9d0d21f7-955e-40a8-a30e-2a881f5eb9d1","slot":"16:30:00"},{"slot_id":"54b58b93-da4d-4925-96fc-8a10dd8773eb","slot":"16:50:00"}]'

request = pd.read_json(current_request, orient='records')
meetings = pd.read_json('/home/ana/TechstarsPortfolioProject/server/algorithm/meetings.json', orient='records')
all_companies = pd.read_json(all_companies, orient='records')
all_blocks = pd.read_json(all_blocks, orient='records')
all_days = pd.read_json(all_days, orient='records')
all_slots =pd.read_json(all_slots, orient='records')

print(request.to_json(orient='records'), end="")
