{"ast":null,"code":"var _jsxFileName = \"/home/devarias/TechstarsPortfolioProject/client/src/components/TableResults.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Table, Input, Button, Space } from \"antd\";\nimport { FireFilled, SearchOutlined } from \"@ant-design/icons\";\nimport ModalBox from \"./ModalBox\";\nimport Highlighter from 'react-highlight-words';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction TableResults(props) {\n  _s();\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [rowMentor, setRowMentor] = useState(0);\n  const [modalContent, setModalContent] = useState({});\n  const [searchText, setSearchText] = useState('');\n  const [searchedColumn, setSearchedColumn] = useState('');\n  const [filteredInfo, setFilteredInfo] = useState({});\n  let objIndex = 0;\n\n  const handleModal = (company, value) => {\n    const resultIndex = props.results[0][rowMentor].findIndex(obj => obj.company === company && obj.matchResult === value);\n    setModalContent(props.results[0][rowMentor][resultIndex]);\n    setIsModalVisible(true);\n  };\n\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\n    confirm();\n    setSearchText(selectedKeys[0]);\n    setSearchedColumn(dataIndex);\n  };\n\n  const handleChange = filters => {\n    setFilteredInfo(filters);\n  };\n\n  const clearFilters = () => {\n    setFilteredInfo(null);\n    setSearchText('');\n  };\n\n  const getData = results => {\n    let array = [];\n\n    for (const [mentor, result] of Object.entries(results[0])) {\n      let objfinal = {\n        key: objIndex++,\n        mentorName: mentor\n      };\n      result.forEach(element => {\n        objfinal[element.company] = element.matchResult;\n      });\n      array.push(objfinal);\n    }\n\n    return array;\n  };\n\n  const getColumnSearchProps = dataIndex => ({\n    filterDropdown: ({\n      setSelectedKeys,\n      selectedKeys,\n      confirm\n    }) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: 4\n      },\n      children: [/*#__PURE__*/_jsxDEV(Input, {\n        placeholder: 'Search Mentor',\n        value: selectedKeys[0],\n        onChange: e => setSelectedKeys(e.target.value ? [e.target.value] : []),\n        onPressEnter: () => handleSearch(selectedKeys, confirm, dataIndex),\n        style: {\n          width: 135,\n          marginBottom: 8,\n          display: 'block'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Space, {\n        children: /*#__PURE__*/_jsxDEV(Button, {\n          type: \"primary\",\n          onClick: () => handleSearch(selectedKeys, confirm, dataIndex),\n          icon: /*#__PURE__*/_jsxDEV(SearchOutlined, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 19\n          }, this),\n          size: \"small\",\n          style: {\n            width: 90\n          },\n          children: \"Search\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this),\n    filterIcon: filtered => /*#__PURE__*/_jsxDEV(SearchOutlined, {\n      style: {\n        color: filtered ? '#39C643' : undefined\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 29\n    }, this),\n    onFilter: (value, record) => record[dataIndex] ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()) : '',\n    render: text => searchedColumn === dataIndex ? /*#__PURE__*/_jsxDEV(Highlighter, {\n      highlightStyle: {\n        backgroundColor: '#39C643',\n        padding: 0,\n        opacity: 0.6\n      },\n      searchWords: [searchText],\n      autoEscape: true,\n      textToHighlight: text ? text.toString() : ''\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this) : text\n  });\n\n  const columns = props.company.map(obj => {\n    return {\n      title: obj.company,\n      dataIndex: obj.company,\n      key: obj.company,\n      width: 130,\n      render: value => {\n        if (value !== undefined) {\n          const codeColor = [\"notMatch\", \"willing\", \"goodMatch\", \"strongMatch\", \"perfectMatch\"];\n          let classColor;\n          codeColor.forEach((vote, index) => index === value ? classColor = vote : value === 6 ? classColor = codeColor[4] : null);\n          return /*#__PURE__*/_jsxDEV(FireFilled, {\n            onClick: () => handleModal(obj.company, value),\n            className: `${classColor} fireball`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this);\n        }\n      },\n      filters: [{\n        text: /*#__PURE__*/_jsxDEV(FireFilled, {\n          className: \"perfectMatch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 17\n        }, this),\n        value: 6\n      }, {\n        text: /*#__PURE__*/_jsxDEV(FireFilled, {\n          className: \"strongMatch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 17\n        }, this),\n        value: 3\n      }, {\n        text: /*#__PURE__*/_jsxDEV(FireFilled, {\n          className: \"goodMatch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this),\n        value: 2\n      }, {\n        text: /*#__PURE__*/_jsxDEV(FireFilled, {\n          className: \"willing\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 17\n        }, this),\n        value: 1\n      }, {\n        text: /*#__PURE__*/_jsxDEV(FireFilled, {\n          className: \"notMatch\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 17\n        }, this),\n        value: 0\n      }, {\n        text: /*#__PURE__*/_jsxDEV(FireFilled, {\n          className: \"pending\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this),\n        value: null\n      }],\n      filteredValue: filteredInfo ? filteredInfo[obj.company] : null,\n      onFilter: (value, record) => record[obj.company] === value\n    };\n  });\n  columns.unshift({\n    title: \"Mentor Name\",\n    dataIndex: \"mentorName\",\n    key: \"mentorName\",\n    fixed: true,\n    width: 150,\n    render: value => value,\n    sorter: (a, b) => a.mentorName.localeCompare(b.mentorName),\n    defaultSortOrder: 'ascend',\n    ...getColumnSearchProps('mentorName')\n  });\n  const data = getData(props.results);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Space, {\n      style: {\n        marginLeft: 30,\n        justifyContent: 'left'\n      },\n      children: /*#__PURE__*/_jsxDEV(Button, {\n        onClick: clearFilters,\n        children: \"Clear filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ModalBox, {\n      isModalVisible: isModalVisible,\n      setIsModalVisible: setIsModalVisible,\n      modalContent: modalContent,\n      mentorName: rowMentor\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Table, {\n      columns: columns,\n      dataSource: data,\n      pagination: false,\n      bordered: true,\n      onChange: handleChange,\n      onRow: record => ({\n        onMouseEnter: () => {\n          setRowMentor(record.mentorName);\n        }\n      }),\n      scroll: {\n        x: \"calc(700px + 50%)\",\n        y: 410\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(TableResults, \"m+hiV03O5LES/Rbs85PWNQt8InI=\");\n\n_c = TableResults;\nexport default TableResults;\n\nvar _c;\n\n$RefreshReg$(_c, \"TableResults\");","map":{"version":3,"sources":["/home/devarias/TechstarsPortfolioProject/client/src/components/TableResults.jsx"],"names":["React","useState","Table","Input","Button","Space","FireFilled","SearchOutlined","ModalBox","Highlighter","TableResults","props","isModalVisible","setIsModalVisible","rowMentor","setRowMentor","modalContent","setModalContent","searchText","setSearchText","searchedColumn","setSearchedColumn","filteredInfo","setFilteredInfo","objIndex","handleModal","company","value","resultIndex","results","findIndex","obj","matchResult","handleSearch","selectedKeys","confirm","dataIndex","handleChange","filters","clearFilters","getData","array","mentor","result","Object","entries","objfinal","key","mentorName","forEach","element","push","getColumnSearchProps","filterDropdown","setSelectedKeys","padding","e","target","width","marginBottom","display","filterIcon","filtered","color","undefined","onFilter","record","toString","toLowerCase","includes","render","text","backgroundColor","opacity","columns","map","title","codeColor","classColor","vote","index","filteredValue","unshift","fixed","sorter","a","b","localeCompare","defaultSortOrder","data","marginLeft","justifyContent","onMouseEnter","x","y"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Table, Input, Button, Space } from \"antd\";\nimport { FireFilled, SearchOutlined } from \"@ant-design/icons\";\nimport ModalBox from \"./ModalBox\";\nimport Highlighter from 'react-highlight-words';\n\nfunction TableResults(props) {\n\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const [rowMentor, setRowMentor] = useState(0);\n  const [modalContent, setModalContent] = useState({});\n  const [searchText, setSearchText] = useState('');\n  const [searchedColumn, setSearchedColumn] = useState('')\n  const [filteredInfo, setFilteredInfo] = useState({});\n  let objIndex = 0;\n\n\n  const handleModal = (company, value) => {\n    const resultIndex = props.results[0][rowMentor].findIndex(\n      (obj) => obj.company === company && obj.matchResult === value\n    );\n    setModalContent(props.results[0][rowMentor][resultIndex]);\n    setIsModalVisible(true);\n  };\n\n  const handleSearch = (selectedKeys, confirm, dataIndex) => {\n    confirm();\n    setSearchText(selectedKeys[0]);\n    setSearchedColumn(dataIndex);\n  }\n\n  const handleChange = (filters) => {\n    setFilteredInfo(filters);\n  }\n\n  const clearFilters = () => {\n    setFilteredInfo(null);\n    setSearchText('');\n  };\n\n  const getData = (results) => {\n    let array = [];\n    for (const [mentor, result] of Object.entries(results[0])) {\n      let objfinal = { key: objIndex++, mentorName: mentor };\n      result.forEach((element) => {\n        objfinal[element.company] = element.matchResult;\n      });\n      array.push(objfinal);\n    }\n    return array;\n  };\n\n  const getColumnSearchProps = dataIndex => ({\n    filterDropdown: ({ setSelectedKeys, selectedKeys, confirm}) => (\n      <div style={{ padding: 4 }}>\n        <Input\n          placeholder={'Search Mentor'}\n          value={selectedKeys[0]}\n          onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n          onPressEnter={() => handleSearch(selectedKeys, confirm, dataIndex)}\n          style={{ width: 135, marginBottom: 8, display: 'block' }}\n        />\n        <Space>\n          <Button\n            type=\"primary\"\n            onClick={() => handleSearch(selectedKeys, confirm, dataIndex)}\n            icon={<SearchOutlined />}\n            size=\"small\"\n            style={{ width: 90 }}\n          >\n            Search\n          </Button>\n        </Space>\n      </div>\n    ),\n    filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#39C643' : undefined }} />,\n    onFilter: (value, record) => record[dataIndex] ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase()) : '',\n    render: text =>\n      searchedColumn === dataIndex ? (\n        <Highlighter\n          highlightStyle={{ backgroundColor: '#39C643', padding: 0, opacity: 0.6}}\n          searchWords={[searchText]}\n          autoEscape\n          textToHighlight={text ? text.toString() : ''}\n        />\n      ) : (text),\n  });\n\n\n  const columns = props.company.map((obj) => {\n    return {\n      title: obj.company,\n      dataIndex: obj.company,\n      key: obj.company,\n      width: 130,\n      render: value => {\n        if (value !== undefined) {\n          const codeColor = [\n            \"notMatch\",\n            \"willing\",\n            \"goodMatch\",\n            \"strongMatch\",\n            \"perfectMatch\",\n          ];\n          let classColor;\n          codeColor.forEach((vote, index) =>\n            index === value\n              ? (classColor = vote)\n              : value === 6\n              ? (classColor = codeColor[4])\n              : null\n          );\n          return (\n            <FireFilled\n              onClick={() => handleModal(obj.company, value)}\n              className={`${classColor} fireball`}\n            />\n          );\n        }\n      },\n      filters: [\n        {\n          text: <FireFilled className=\"perfectMatch\" />,\n          value: 6,\n        },\n        {\n          text: <FireFilled className=\"strongMatch\" />,\n          value: 3,\n        },\n        {\n          text: <FireFilled className=\"goodMatch\" />,\n          value: 2,\n        },\n        {\n          text: <FireFilled className=\"willing\" />,\n          value: 1,\n        },\n        {\n          text: <FireFilled className=\"notMatch\" />,\n          value: 0,\n        },\n        {\n          text: <FireFilled className=\"pending\" />,\n          value: null,\n        },\n      ],\n      filteredValue: filteredInfo ? filteredInfo[obj.company] : null,\n      onFilter: (value, record) => record[obj.company]  === value,\n    };\n  });\n\n  columns.unshift({\n    title: \"Mentor Name\",\n    dataIndex: \"mentorName\",\n    key: \"mentorName\",\n    fixed: true,\n    width: 150,\n    render: (value) => value,\n    sorter: (a, b) =>  a.mentorName.localeCompare(b.mentorName),\n    defaultSortOrder: 'ascend',\n    ...getColumnSearchProps('mentorName'),\n  });\n\n  const data = getData(props.results);\n\n  return (\n    <>\n      <Space style={{ marginLeft: 30, justifyContent: 'left'}}>\n        <Button onClick={clearFilters}>Clear filters</Button>\n      </Space>\n      <ModalBox\n        isModalVisible={isModalVisible}\n        setIsModalVisible={setIsModalVisible}\n        modalContent={modalContent}\n        mentorName={rowMentor}\n      />\n      <Table\n        columns={columns}\n        dataSource={data}\n        pagination={false}\n        bordered\n        onChange={handleChange}\n        onRow={(record) => ({\n          onMouseEnter: () => {\n            setRowMentor(record.mentorName);\n          },\n        })}\n        scroll={{ x: \"calc(700px + 50%)\", y: 410 }}\n      />\n    </>\n  );\n}\nexport default TableResults;\n"]},"metadata":{},"sourceType":"module"}